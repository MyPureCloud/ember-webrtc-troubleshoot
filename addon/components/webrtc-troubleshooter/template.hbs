<div class="options">
  {{#if video}}
    <div class="entry-row time">{{t "webrtcTroubleshoot.troubleshootTimeWarning"}}</div>
  {{/if}}
  {{#if audio}}
    <div class="entry-row">
      <div class="entry-label">
        <i class="pc-moon pc-key"></i>
      </div>
      <div class="entry-values">
        {{#if checkingMicPermissions}}
          {{t "webrtcTroubleshoot.checkMicPermissions"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if micPermissionsSuccess}}
          {{t "webrtcTroubleshoot.micPermissionsSuccess"}} <i class="status-icon pc pc-check"></i>
        {{else}}
          {{t "webrtcTroubleshoot.micPermissionsFail"}} <i class="status-icon ion-alert-circled"></i>
          {{#if noMicrophone}}
            <div class="entry-value">{{t "webrtcTroubleshoot.noMicrophoneForCheck"}}</div>
          {{else}}
            <div class="entry-value">{{t "webrtcTroubleshoot.micPermissionsFail2"}}</div>
          {{/if}}
        {{/if}}
      </div>
    </div>

    <div class="entry-row">
      <div class="entry-label">
        <i class="pc-moon pc-microphone"></i>
      </div>
      <div class="entry-values">
        {{#if checkingMicrophone}}
          {{t "webrtcTroubleshoot.checkMicrophone"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if checkMicrophoneSuccess}}
          {{#if checkVolumeSuccess}}
            {{t "webrtcTroubleshoot.checkMicrophoneSuccess"}} <i class="status-icon pc pc-check"></i>
          {{else}}
            <div class="entry-value">{{t "webrtcTroubleshoot.checkVolumeFailure"}} <i class="status-icon ion-alert-circled"></i></div>
            <div class="entry-value">{{t "webrtcTroubleshoot.checkVolumeFailure2"}}</div>
          {{/if}}
        {{else}}
          <div class="entry-value">{{t "webrtcTroubleshoot.checkMicrophoneFail"}} <i class="status-icon ion-alert-circled"></i></div>
          <div class="entry-value">{{t "webrtcTroubleshoot.checkMicrophoneFail2"}}</div>
        {{/if}}
      </div>
    </div>
  {{/if}}
  {{#if video}}
    <div class="entry-row">
      <div class="entry-label">
        <i class="fa fa-unlock"></i>
      </div>
      <div class="entry-values">
        {{#if checkingCameraPermissions}}
          {{t "webrtcTroubleshoot.checkCameraPermissions"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if cameraPermissionsSuccess}}
          {{t "webrtcTroubleshoot.cameraPermissionsSuccess"}} <i class="status-icon pc pc-check"></i>
        {{else}}
          {{t "webrtcTroubleshoot.cameraPermissionsFail"}} <i class="status-icon ion-alert-circled"></i>
          {{#if noCamera}}
            <div class="entry-value">{{t "webrtcTroubleshoot.noCameraForCheck"}}</div>
          {{else}}
            <div class="entry-value">{{t "webrtcTroubleshoot.cameraPermissionsFail2"}}</div>
          {{/if}}
        {{/if}}
      </div>
    </div>

    <div class="entry-row">
      <div class="entry-label">
        <i class="pc-moon pc-video"></i>
      </div>
      <div class="entry-values">
        {{#if checkingCamera}}
          {{t "webrtcTroubleshoot.checkCamera"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if checkCameraSuccess}}
          {{t "webrtcTroubleshoot.checkCameraSuccess"}} <i class="status-icon pc pc-check"></i>
        {{else}}
          <div class="entry-value">{{t "webrtcTroubleshoot.checkCameraFail"}} <i class="status-icon ion-alert-circled"></i></div>
          <div class="entry-value">{{t "webrtcTroubleshoot.checkCameraFail2"}}</div>
        {{/if}}
      </div>
    </div>
    <div class="entry-row">
      <div class="entry-label">
        <i class="pc-moon pc-robot-head"></i>
      </div>
      <div class="entry-values">
        {{#if checkingCameraAdvanced}}
          {{t "webrtcTroubleshoot.checkCameraAdvanced"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if checkCameraAdvancedSuccess}}
          {{t "webrtcTroubleshoot.checkCameraAdvancedSuccess"}} <i class="status-icon pc pc-check"></i>
        {{else}}
          {{t "webrtcTroubleshoot.checkCameraAdvancedFail"}} <i class="status-icon pc pc-close"></i>
        {{/if}}
      </div>
    </div>
  {{/if}}
  <div class="entry-row">
    <div class="entry-label">
      <i class="pc pc-exchange"></i>
    </div>
    <div class="entry-values">
      {{#if checkingSymmetricNat}}
        {{t "webrtcTroubleshoot.checkingSymmetricNat"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
      {{else if symmetricNatResultGood}}
        {{t symmetricNatResult}} <i class="status-icon pc pc-check"></i>
      {{else}}
        {{t symmetricNatResult}} <i class="status-icon pc pc-close"></i>
      {{/if}}
    </div>
  </div>
  <div class="entry-row">
    <div class="entry-label">
      <i class="pc pc-signal"></i>
    </div>
    <div class="entry-values">
      {{#if checkingConnectivity}}
        {{t "webrtcTroubleshoot.checkConnectivity"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
      {{else if checkConnectivitySuccess}}
        {{t "webrtcTroubleshoot.checkConnectivitySuccess"}} <i class="status-icon pc pc-check"></i>
      {{else if connectivityPortError}}
        {{t "webrtcTroubleshoot.checkConnectivityFailPort"}} <i class="status-icon pc pc-close"></i>
      {{else}}
        {{t "webrtcTroubleshoot.checkConnectivityFail"}} <i class="status-icon pc pc-close"></i>
      {{/if}}
    </div>
  </div>
  <div class="entry-row">
    <div class="entry-label">
      <i class="pc pc-throughput"></i>
    </div>
    <div class="entry-values">
      {{#if checkingThroughput}}
        {{t "webrtcTroubleshoot.checkThroughput"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
      {{else if checkThroughputSuccess}}
        {{t "webrtcTroubleshoot.checkThroughputSuccess"}} <i class="status-icon pc pc-check"></i>
      {{else}}
        {{t "webrtcTroubleshoot.checkThroughputFail"}} <i class="status-icon pc pc-close"></i>
      {{/if}}
    </div>
  </div>
  {{#if runBandwidthTest}}
    <div class="entry-row">
      <div class="entry-label">
        <i class="pc pc-bandwidth"></i>
      </div>
      <div class="entry-values">
        {{#if checkingBandwidth}}
          {{t "webrtcTroubleshoot.checkBandwidth"}} <i class="status-icon pc-moon pc-loading pc-spin"></i>
        {{else if checkBandwidthSuccess}}
          {{t "webrtcTroubleshoot.checkBandwidthSuccess"}} <i class="status-icon pc pc-check"></i>
        {{else}}
          {{t "webrtcTroubleshoot.checkBandwidthFail"}} <i class="status-icon pc pc-close"></i>
        {{/if}}
      </div>
    </div>

    {{#if bandwidthStats}}
      <div class="bandwidth-stats">
        <button type="button" class="btn btn-link" {{action "toggleBandwidthStats"}}>
          {{#if showBandwidthStats}}
            {{t "webrtcTroubleshoot.hideBandwidthStats"}}
          {{else}}
            {{t "webrtcTroubleshoot.showBandwidthStats"}}
          {{/if}}
        </button>

        {{#if showBandwidthStats}}
          <div class="stats-container">
            {{#each-in bandwidthStats as |stat value|}}
              <div class="stats-row">{{t (concat "webrtcTroubleshoot." stat) value=value}}</div>
            {{/each-in}}
          </div>
        {{/if}}
      </div>
    {{/if}}
  {{/if}}
</div>
